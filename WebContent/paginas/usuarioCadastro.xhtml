<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	
	
	<ui:composition template="/templates/modeloGeral.xhtml">
	
	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="usuAcao" value="#{usuarioBean.acao}" />
			<f:viewParam name="usucod" value="#{usuarioBean.codigo}" />
			<f:event listener="#{usuarioBean.carregarCadastro}" type="preRenderView" />
		</f:metadata>
	</ui:define>
	
		<ui:define name="conteudo">
			<h:form id="FormCadUsu">
				<p:toolbar>
					<f:facet name="left">
						<h:outputText value="Cadastro Usuários"/>
					</f:facet>
				</p:toolbar>
				<h:panelGrid id="painelUsuCad" columns="2">
				
					<p:outputLabel value="Código:" />
					<p:inputText readonly="true" value="#{usuarioBean.usuarioCadastro.codigo}"/>

					<p:outputLabel value="Nome:" />
					<p:inputText maxlength="100" size="8" />
					
					<p:outputLabel value="E-mail:" />
					<p:inputText maxlength="50" size="30" />
					
					<p:outputLabel value="Senha:" />
					<p:password id="nonFeedback" value="#{passwordView.password1}" />
					
				</h:panelGrid>
				<h:panelGrid columns="5">
					<p:commandButton value="Novo" actionListener="#{usuarioBean.novo}" update=":FormCadUsu:painelUsuCad" rendered="#{usuarioBean.acao == 'Novo'}" icon="ui-docnovo" />										
																						 <!-- Isso atualiza a página AJAX em dois componentes, o espaço separa-os. -->
					<p:commandButton value="Salvar" actionListener="#{usuarioBean.salvar}" update=":msgGlobal :FormCadUsu:painelUsuCad" rendered="#{usuarioBean.acao == 'Novo'}" icon="ui-salvar" />
					<p:button value="Voltar" outcome="/paginas/usuarioPesquisa.xhtml" ajax="false" icon="ui-voltar"/>
					
					<p:commandButton value="Excluir" actionListener="#{usuarioBean.excluir}" update=":msgGlobal" ajax="false" rendered="#{usuarioBean.acao == 'Excluir'}" icon="ui-excluir" />
					<p:commandButton value="Editar" actionListener="#{usuarioBean.editar}" update=":msgGlobal" ajax="false" rendered="#{usuarioBean.acao == 'Editar'}" icon="ui-editar" />
					
					
				</h:panelGrid>
			</h:form>
		</ui:define>
	</ui:composition>
</html>